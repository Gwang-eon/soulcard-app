<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í∞ÑÎã®Ìïú ÌÉÄÎ°úÏπ¥Îìú ÌÖåÏä§Ìä∏</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            min-height: 100vh;
            margin: 0;
            font-family: 'Inter', sans-serif;
        }
        
        .card-3d {
            perspective: 1000px;
            transform-style: preserve-3d;
        }
        
        .card-face {
            backface-visibility: hidden;
            transition: transform 0.6s ease-in-out;
        }
        
        .card-back {
            transform: rotateY(0deg);
        }
        
        .card-front {
            transform: rotateY(180deg);
        }
        
        .card-flipped .card-back {
            transform: rotateY(180deg);
        }
        
        .card-flipped .card-front {
            transform: rotateY(0deg);
        }
        
        .card-hover:hover {
            transform: scale(1.05) rotate(2deg);
        }
        
        .card-selected {
            transform: scale(1.1);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.5);
        }
        
        .bg-gradient-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        
        .btn-ghost {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-ghost:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .btn-ghost:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .card-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 24px;
            backdrop-filter: blur(10px);
        }
        
        .rotating {
            animation: rotate 2s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useCallback } = React;
        
        // ÏÉòÌîå ÌÉÄÎ°úÏπ¥Îìú Îç∞Ïù¥ÌÑ∞
        const sampleCards = [
            {
                id: "fool",
                name: "The Fool",
                nameKo: "Î∞îÎ≥¥",
                image: "images/cards/major-arcana/00-the-fool.webp",
                suit: "major",
                number: 0,
                keywords: ["ÏãúÏûë", "Î™®Ìóò", "ÏàúÏàò"]
            },
            {
                id: "magician",
                name: "The Magician",
                nameKo: "ÎßàÎ≤ïÏÇ¨",
                image: "images/cards/major-arcana/01-the-magician.webp",
                suit: "major",
                number: 1,
                keywords: ["ÏùòÏßÄ", "Ïã§Ìñâ", "Îä•Î†•"]
            },
            {
                id: "high-priestess",
                name: "The High Priestess",
                nameKo: "Ïó¨ÍµêÌô©",
                image: "images/cards/major-arcana/02-the-high-priestess.webp",
                suit: "major",
                number: 2,
                keywords: ["ÏßÅÍ¥Ä", "ÏßÄÌòú", "Ïã†ÎπÑ"]
            }
        ];
        
        // Í∞ÑÎã®Ìïú ÌÉÄÎ°úÏπ¥Îìú Ïª¥Ìè¨ÎÑåÌä∏
        function SimpleTarotCard({ card, size = 'lg', isFlipped = false, isSelected = false, onClick, className = '' }) {
            const [flipped, setFlipped] = useState(isFlipped);
            
            const handleClick = () => {
                if (onClick) {
                    onClick();
                } else {
                    setFlipped(!flipped);
                }
            };
            
            const sizeClasses = {
                sm: 'w-15 h-25',
                md: 'w-18 h-30',
                lg: 'w-24 h-40',
                xl: 'w-30 h-50'
            };
            
            return (
                <div 
                    className={`card-3d ${sizeClasses[size]} cursor-pointer transition-all duration-300 card-hover ${isSelected ? 'card-selected' : ''} ${flipped ? 'card-flipped' : ''} ${className}`}
                    onClick={handleClick}
                >
                    {/* Ïπ¥Îìú Îí∑Î©¥ */}
                    <div className="card-face card-back absolute inset-0 rounded-lg">
                        <div className="w-full h-full bg-gradient-primary rounded-lg p-2 flex items-center justify-center">
                            <div className="w-full h-full border-2 border-white border-opacity-30 rounded-lg flex items-center justify-center">
                                <div className="text-white text-opacity-80 text-center">
                                    <div className="w-8 h-8 mx-auto mb-2 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                        <span className="text-lg">üîÆ</span>
                                    </div>
                                    <div className="text-xs font-medium opacity-80">TAROT</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Ïπ¥Îìú ÏïûÎ©¥ */}
                    <div className="card-face card-front absolute inset-0 rounded-lg">
                        {card ? (
                            <div className="w-full h-full bg-white rounded-lg overflow-hidden shadow-lg">
                                <div className="h-3/4 relative overflow-hidden p-1 bg-white">
                                    {card.image ? (
                                        <img 
                                            src={card.image} 
                                            alt={card.nameKo}
                                            className="w-full h-full object-contain"
                                        />
                                    ) : (
                                        <div className="w-full h-full flex items-center justify-center bg-gray-300">
                                            <span className="text-gray-600 text-4xl">üÉè</span>
                                        </div>
                                    )}
                                    
                                    {card.number !== undefined && (
                                        <div className="absolute top-2 left-2 w-6 h-6 bg-white bg-opacity-90 rounded-full flex items-center justify-center">
                                            <span className="text-xs font-bold text-gray-800">{card.number}</span>
                                        </div>
                                    )}
                                </div>
                                
                                <div className="h-1/4 p-2 bg-white relative">
                                    <h3 className="font-semibold text-gray-900 text-sm leading-tight">
                                        {card.nameKo}
                                    </h3>
                                    <p className="text-xs text-gray-600 mt-1">
                                        {card.keywords.slice(0, 3).join(', ')}
                                    </p>
                                    
                                    {card.suit && (
                                        <div className="absolute bottom-1 right-1">
                                            <span className="text-xs text-gray-400 uppercase">
                                                {card.suit}
                                            </span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        ) : (
                            <div className="w-full h-full bg-gray-200 rounded-lg flex items-center justify-center">
                                <div className="text-gray-400 text-center">
                                    <div className="text-2xl mb-1">üÉè</div>
                                    <div className="text-xs">Ïπ¥Îìú</div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }
        
        // Í∞ÑÎã®Ìïú Ïπ¥ÎìúÎç± Ïª¥Ìè¨ÎÑåÌä∏
        function SimpleCardDeck({ cards, maxVisible = 3, onCardSelect, onShuffle }) {
            const [selectedIndex, setSelectedIndex] = useState(null);
            const [hoveredIndex, setHoveredIndex] = useState(null);
            const [isShuffling, setIsShuffling] = useState(false);
            
            const handleShuffle = () => {
                setIsShuffling(true);
                setTimeout(() => {
                    setIsShuffling(false);
                    if (onShuffle) onShuffle();
                }, 2000);
            };
            
            const handleCardSelect = (index) => {
                setSelectedIndex(index);
                if (onCardSelect && cards[index]) {
                    onCardSelect(cards[index], index);
                }
            };
            
            const visibleCards = cards.slice(0, maxVisible);
            
            return (
                <div className="relative">
                    <div className="relative flex justify-center items-center min-h-[200px]">
                        {isShuffling ? (
                            <div className="text-center">
                                <div className="w-16 h-16 mx-auto mb-4 bg-gradient-primary rounded-full flex items-center justify-center rotating">
                                    <span className="text-2xl text-white">üîÑ</span>
                                </div>
                                <p className="text-white opacity-80">Ïπ¥ÎìúÎ•º ÏÑûÍ≥† ÏûàÏäµÎãàÎã§...</p>
                            </div>
                        ) : (
                            <div className="relative">
                                {/* Ïä§ÌÉùÎêú Ïπ¥ÎìúÎì§ */}
                                <div className="relative">
                                    {visibleCards.map((card, index) => {
                                        const isHovered = hoveredIndex === index;
                                        const isSelected = selectedIndex === index;
                                        
                                        return (
                                            <div
                                                key={`${card.id}-${index}`}
                                                className="absolute transition-all duration-300"
                                                style={{
                                                    zIndex: maxVisible - index,
                                                    left: `${index * 2}px`,
                                                    top: `${index * -1}px`,
                                                    transform: `
                                                        translate(${isHovered || isSelected ? '10px' : '0'}, ${isHovered || isSelected ? '-10px' : '0'}) 
                                                        rotate(${isHovered ? '5deg' : index * 0.5 + 'deg'}) 
                                                        scale(${isSelected ? '1.1' : isHovered ? '1.05' : '1'})
                                                    `
                                                }}
                                                onMouseEnter={() => setHoveredIndex(index)}
                                                onMouseLeave={() => setHoveredIndex(null)}
                                                onClick={() => handleCardSelect(index)}
                                            >
                                                <SimpleTarotCard
                                                    card={index === visibleCards.length - 1 ? undefined : card}
                                                    size="lg"
                                                    isFlipped={false}
                                                    isSelected={isSelected}
                                                    className={`${isHovered ? 'shadow-2xl' : 'shadow-lg'}`}
                                                />
                                            </div>
                                        );
                                    })}
                                </div>
                                
                                {/* Îç± Ï†ïÎ≥¥ */}
                                <div className="mt-32 text-center">
                                    <p className="text-white opacity-60 text-sm">
                                        {cards.length}Ïû•Ïùò Ïπ¥Îìú
                                    </p>
                                    <button
                                        onClick={handleShuffle}
                                        className="mt-4 btn-ghost flex items-center gap-2 mx-auto"
                                        disabled={isShuffling}
                                    >
                                        <span className="text-sm">üîÑ</span>
                                        <span>ÏÑûÍ∏∞</span>
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }
        
        // Î©îÏù∏ ÌÖåÏä§Ìä∏ Ïï±
        function SimpleTarotTestApp() {
            const [selectedCard, setSelectedCard] = useState(null);
            const [cards, setCards] = useState(sampleCards);
            
            const handleShuffle = () => {
                const shuffled = [...cards].sort(() => Math.random() - 0.5);
                setCards(shuffled);
            };
            
            const handleCardSelect = (card, index) => {
                setSelectedCard(card);
                console.log('Selected card:', card, 'at index:', index);
            };
            
            return (
                <div className="min-h-screen p-6 text-white">
                    <div className="text-center mb-8">
                        <h1 className="text-4xl font-bold text-white mb-4">üîÆ ÌÉÄÎ°úÏπ¥Îìú Ïª¥Ìè¨ÎÑåÌä∏ ÌÖåÏä§Ìä∏</h1>
                        <p className="text-white opacity-70 text-lg">
                            Í∞úÎ≥Ñ Ïπ¥ÎìúÏôÄ Ïπ¥ÎìúÎç± Ïù∏ÌÑ∞ÎûôÏÖòÏùÑ ÌÖåÏä§Ìä∏Ìï¥Î≥¥ÏÑ∏Ïöî
                        </p>
                    </div>
                    
                    <div className="max-w-4xl mx-auto space-y-12">
                        {/* Í∞úÎ≥Ñ Ïπ¥Îìú ÌÖåÏä§Ìä∏ */}
                        <div className="card-container">
                            <h2 className="text-2xl font-bold text-white mb-6">Í∞úÎ≥Ñ ÌÉÄÎ°úÏπ¥Îìú ÌÖåÏä§Ìä∏</h2>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8 justify-items-center">
                                {sampleCards.map((card, index) => (
                                    <div key={card.id} className="text-center">
                                        <SimpleTarotCard
                                            card={card}
                                            size="lg"
                                            isFlipped={true}
                                            onClick={() => alert(`${card.nameKo} Ïπ¥ÎìúÎ•º ÌÅ¥Î¶≠ÌñàÏäµÎãàÎã§!`)}
                                        />
                                        <p className="text-white mt-2 text-sm">{card.nameKo}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                        
                        {/* Ïπ¥ÎìúÎç± ÌÖåÏä§Ìä∏ */}
                        <div className="card-container">
                            <h2 className="text-2xl font-bold text-white mb-6 text-center">Ïπ¥ÎìúÎç± Ïù∏ÌÑ∞ÎûôÏÖò ÌÖåÏä§Ìä∏</h2>
                            <SimpleCardDeck
                                cards={cards}
                                maxVisible={3}
                                onShuffle={handleShuffle}
                                onCardSelect={handleCardSelect}
                            />
                            {selectedCard && (
                                <div className="text-center mt-8 p-4 bg-white bg-opacity-10 rounded-lg">
                                    <h3 className="text-white font-bold text-lg mb-2">ÏÑ†ÌÉùÎêú Ïπ¥Îìú</h3>
                                    <p className="text-white text-xl">{selectedCard.nameKo}</p>
                                    <p className="text-white opacity-70 mt-2">{selectedCard.keywords.join(', ')}</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }
        
        // Ïï± Î†åÎçîÎßÅ
        ReactDOM.render(React.createElement(SimpleTarotTestApp), document.getElementById('root'));
    </script>
</body>
</html>